import{d as S,c as m,a as n,b as z,f as B}from"../chunks/0eLUwfcC.js";import{p as F,u as x,g as o,f as p,a as M,b as R,c as u,r as v,s as U,t as V}from"../chunks/CL2eiML2.js";import{s as q}from"../chunks/B2RKNQ5a.js";import{i as C}from"../chunks/CrgOTeS3.js";import{a as G,e as H,i as J}from"../chunks/FmgtKzgn.js";import{h as N}from"../chunks/DE6CkYfj.js";import{s as w}from"../chunks/CQPD-vKY.js";import{g as K,a as g,d as y,t as c}from"../chunks/iG0XQOj0.js";import{g as k}from"../chunks/LGk_S0zR.js";import{l as P}from"../chunks/DmJvtKRS.js";var Q=B('<div class="card card-m group outline-none" tabindex="0"><div class="card-body group-focus:bg-secondary group-focus:text-secondary-content"><div class="card-title text-2xl"> </div> <!></div></div>');function re(A,E){F(E,!0);let i=R(()=>{let t=K();return!t||Object.keys(t).length<=0?[]:Object.values(t).filter(e=>e?.topics?.includes(g.selectedTopic)).sort((e,a)=>y(a.createdTime).valueOf()-y(e.createdTime).valueOf())});function _(t){g.selectedNoteName=t.title,g.selectedNoteId=t.noteId,k("/note")}const I={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"};x(()=>G(t=>{if(I[t]){const e=P.getNextFocus(document.activeElement,I[t]);e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"nearest"}))}else if(t==="confirm"){const e=document.activeElement?.dataset?.noteId;if(e){const a=o(i).find(d=>d.noteId===e);a&&_(a)}}else t==="cancel"&&k("/")}));let b=!1;x(()=>{o(i).length>0&&!b&&(b=!0,document.getElementById("note_"+o(i)[0].noteId)?.focus())});var h=m(),O=p(h);H(O,17,()=>o(i),J,(t,e)=>{var a=Q(),d=u(a),l=u(d),T=u(l,!0);v(l);var j=U(l,2);{var D=s=>{var r=m(),f=p(r);N(f,()=>c.updatedNotes[o(e).noteId].content),n(s,r)},L=s=>{var r=m(),f=p(r);N(f,()=>o(e).content),n(s,r)};C(j,s=>{c&&c.updatedNotes&&c.updatedNotes[o(e).noteId]?s(D):s(L,!1)})}v(d),v(a),V(()=>{w(a,"id","note_"+o(e).noteId),w(a,"data-note-id",o(e).noteId),q(T,o(e).title)}),z("click",a,()=>_(o(e))),n(t,a)}),n(A,h),M()}S(["click"]);export{re as component};
