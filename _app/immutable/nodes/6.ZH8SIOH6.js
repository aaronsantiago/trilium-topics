import{d as O,c as u,a as d,b as q,f as D}from"../chunks/BgnR6MGh.js";import{p as L,u as V,f as v,a as z,g as a,b as N,c as _,r as g,s as A,t as B}from"../chunks/BookdCrg.js";import{s as C}from"../chunks/COYhqng1.js";import{i as E}from"../chunks/BWYydOZN.js";import{a as F,e as G,i as H}from"../chunks/DLfwuNK-.js";import{h as S}from"../chunks/CJ_NNT8L.js";import{s as J}from"../chunks/C4UscxPu.js";import{s as K}from"../chunks/C0C3IxD_.js";import{a as e,g as P,t as l}from"../chunks/BV6uij0q.js";import{g as x}from"../chunks/ZPidkeQu.js";var Q=D('<div class="card card-m"><div><div class="card-title text-2xl"> </div> <!></div></div>');function oe(I,T){L(T,!0);let n=N(()=>{let t=P();return!t||Object.keys(t).length<=0?[]:Object.values(t).filter(o=>o?.topics?.includes(e.selectedTopic))});function h(t){e.selectedNoteName=t.title,e.selectedNoteId=t.noteId,x("/note")}let p=N(()=>a(n)[e.cursorState["topic_"+e.selectedTopic]||0]);V(()=>F(t=>{t=="up"?(e.cursorState["topic_"+e.selectedTopic]=Math.max((e.cursorState["topic_"+e.selectedTopic]||0)-1,0),console.log("cursorState",e.cursorState["topic_"+e.selectedTopic])):t=="down"?e.cursorState["topic_"+e.selectedTopic]=Math.min((e.cursorState["topic_"+e.selectedTopic]||0)+1,a(n).length-1):t=="confirm"?h(a(p)):t=="cancel"&&x("/");const o=document.querySelector("#note_"+a(p).noteId);o&&o.scrollIntoView({behavior:"smooth",block:"nearest"})}));var b=u(),k=v(b);G(k,17,()=>a(n),H,(t,o)=>{var m=Q(),c=_(m),i=_(c),y=_(i,!0);g(i);var j=A(i,2);{var w=r=>{var s=u(),f=v(s);S(f,()=>l.updatedNotes[a(o).noteId].content),d(r,s)},M=r=>{var s=u(),f=v(s);S(f,()=>a(o).content),d(r,s)};E(j,r=>{l&&l.updatedNotes&&l.updatedNotes[a(o).noteId]?r(w):r(M,!1)})}g(c),g(m),B(()=>{J(c,"id","note_"+a(o).noteId),K(c,1,"card-body "+(a(p)==a(o)?"bg-secondary text-secondary-content":"")),C(y,a(o).title)}),q("click",i,()=>{h(a(o))}),d(t,m)}),d(I,b),z()}O(["click"]);export{oe as component};
