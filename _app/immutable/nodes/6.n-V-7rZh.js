import{d as S,c as m,a as n,b as T,f as z}from"../chunks/D4MotnWR.js";import{p as B,u as x,g as o,f as p,a as F,b as M,c as u,r as v,s as R,t as U}from"../chunks/17qEQskK.js";import{s as V}from"../chunks/D_hPu0to.js";import{i as q}from"../chunks/yuC0gQ1-.js";import{e as G,i as H}from"../chunks/BGkeu9fO.js";import{h as N}from"../chunks/Yh0XsUGq.js";import{s as w}from"../chunks/REneDJd4.js";import{g as J,a as g,d as y,t as c}from"../chunks/DLdK-v4A.js";import{g as k}from"../chunks/DVGPpCHa.js";import{a as K}from"../chunks/DB7J5z9r.js";import{l as P}from"../chunks/DmJvtKRS.js";var Q=z('<div class="card card-m group outline-none" tabindex="0"><div class="card-body group-focus:bg-secondary group-focus:text-secondary-content"><div class="card-title text-2xl"> </div> <!></div></div>');function it(A,E){B(E,!0);let i=M(()=>{let e=J();return!e||Object.keys(e).length<=0?[]:Object.values(e).filter(t=>t?.topics?.includes(g.selectedTopic)).sort((t,a)=>y(a.dateCreated).valueOf()-y(t.dateCreated).valueOf())});function _(e){g.selectedNoteName=e.title,g.selectedNoteId=e.noteId,k("/note")}const I={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"};x(()=>K(e=>{if(I[e]){const t=P.getNextFocus(document.activeElement,I[e]);t&&(t.focus(),t.scrollIntoView({behavior:"smooth",block:"nearest"}))}else if(e==="confirm"){const t=document.activeElement?.dataset?.noteId;if(t){const a=o(i).find(d=>d.noteId===t);a&&_(a)}}else e==="cancel"&&k("/")}));let b=!1;x(()=>{o(i).length>0&&!b&&(b=!0,document.getElementById("note_"+o(i)[0].noteId)?.focus())});var h=m(),O=p(h);G(O,17,()=>o(i),H,(e,t)=>{var a=Q(),d=u(a),l=u(d),j=u(l,!0);v(l);var C=R(l,2);{var D=r=>{var s=m(),f=p(s);N(f,()=>c.updatedNotes[o(t).noteId].content),n(r,s)},L=r=>{var s=m(),f=p(s);N(f,()=>o(t).content),n(r,s)};q(C,r=>{c&&c.updatedNotes&&c.updatedNotes[o(t).noteId]?r(D):r(L,!1)})}v(d),v(a),U(()=>{w(a,"id","note_"+o(t).noteId),w(a,"data-note-id",o(t).noteId),V(j,o(t).title)}),T("click",a,()=>_(o(t))),n(e,a)}),n(A,h),F()}S(["click"]);export{it as component};
