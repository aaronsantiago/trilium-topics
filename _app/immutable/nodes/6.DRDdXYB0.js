import{d as S,c as m,a as n,b as T,f as z}from"../chunks/Dif1b4kq.js";import{p as B,u as x,g as o,f as p,a as F,b as M,c as u,r as v,e as R,t as U}from"../chunks/C8D-9BLl.js";import{s as V}from"../chunks/BAVaMGux.js";import{i as q}from"../chunks/jAm9DSX5.js";import{e as G,i as H}from"../chunks/vL8XQlbl.js";import{h as N}from"../chunks/BVkWWTjX.js";import{s as w}from"../chunks/CeZXchYr.js";import{g as J,a as g,d as y,t as c}from"../chunks/BEpiyj4r.js";import{g as k}from"../chunks/Yj9vrk2x.js";import{a as K}from"../chunks/DB7J5z9r.js";import{l as P}from"../chunks/DmJvtKRS.js";var Q=z('<div class="card card-m group outline-none" tabindex="0"><div class="card-body group-focus:bg-secondary group-focus:text-secondary-content"><div class="card-title text-2xl"> </div> <!></div></div>');function ie(A,E){B(E,!0);let i=M(()=>{let t=J();return!t||Object.keys(t).length<=0?[]:Object.values(t).filter(e=>e?.topics?.includes(g.selectedTopic)).sort((e,a)=>y(a.dateCreated).valueOf()-y(e.dateCreated).valueOf())});function _(t){g.selectedNoteName=t.title,g.selectedNoteId=t.noteId,k("/note")}const I={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"};x(()=>K(t=>{if(I[t]){const e=P.getNextFocus(document.activeElement,I[t]);e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"nearest"}))}else if(t==="confirm"){const e=document.activeElement?.dataset?.noteId;if(e){const a=o(i).find(d=>d.noteId===e);a&&_(a)}}else t==="cancel"&&k("/")}));let b=!1;x(()=>{o(i).length>0&&!b&&(b=!0,document.getElementById("note_"+o(i)[0].noteId)?.focus())});var h=m(),O=p(h);G(O,17,()=>o(i),H,(t,e)=>{var a=Q(),d=u(a),l=u(d),j=u(l,!0);v(l);var C=R(l,2);{var D=r=>{var s=m(),f=p(s);N(f,()=>c.updatedNotes[o(e).noteId].content),n(r,s)},L=r=>{var s=m(),f=p(s);N(f,()=>o(e).content),n(r,s)};q(C,r=>{c&&c.updatedNotes&&c.updatedNotes[o(e).noteId]?r(D):r(L,!1)})}v(d),v(a),U(()=>{w(a,"id","note_"+o(e).noteId),w(a,"data-note-id",o(e).noteId),V(j,o(e).title)}),T("click",a,()=>_(o(e))),n(t,a)}),n(A,h),F()}S(["click"]);export{ie as component};
