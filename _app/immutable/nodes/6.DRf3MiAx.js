import{d as S,c as m,a as n,b as T,f as z}from"../chunks/0eLUwfcC.js";import{p as B,u as x,g as o,f as p,a as F,b as M,c as u,r as v,s as R,t as U}from"../chunks/CL2eiML2.js";import{s as V}from"../chunks/B2RKNQ5a.js";import{i as q}from"../chunks/CrgOTeS3.js";import{a as G,e as H,i as J}from"../chunks/B2r3RvWL.js";import{h as N}from"../chunks/DE6CkYfj.js";import{s as w}from"../chunks/CQPD-vKY.js";import{g as K,a as g,d as y,t as c}from"../chunks/BnqIeQmv.js";import{g as k}from"../chunks/vQwpS0br.js";import{l as P}from"../chunks/DmJvtKRS.js";var Q=z('<div class="card card-m group outline-none" tabindex="0"><div class="card-body group-focus:bg-secondary group-focus:text-secondary-content"><div class="card-title text-2xl"> </div> <!></div></div>');function re(A,E){B(E,!0);let d=M(()=>{let t=K();return!t||Object.keys(t).length<=0?[]:Object.values(t).filter(e=>e?.topics?.includes(g.selectedTopic)).sort((e,a)=>y(a.dateCreated).valueOf()-y(e.dateCreated).valueOf())});function _(t){g.selectedNoteName=t.title,g.selectedNoteId=t.noteId,k("/note")}const I={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight"};x(()=>G(t=>{if(I[t]){const e=P.getNextFocus(document.activeElement,I[t]);e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"nearest"}))}else if(t==="confirm"){const e=document.activeElement?.dataset?.noteId;if(e){const a=o(d).find(i=>i.noteId===e);a&&_(a)}}else t==="cancel"&&k("/")}));let b=!1;x(()=>{o(d).length>0&&!b&&(b=!0,document.getElementById("note_"+o(d)[0].noteId)?.focus())});var h=m(),O=p(h);H(O,17,()=>o(d),J,(t,e)=>{var a=Q(),i=u(a),l=u(i),j=u(l,!0);v(l);var C=R(l,2);{var D=s=>{var r=m(),f=p(r);N(f,()=>c.updatedNotes[o(e).noteId].content),n(s,r)},L=s=>{var r=m(),f=p(r);N(f,()=>o(e).content),n(s,r)};q(C,s=>{c&&c.updatedNotes&&c.updatedNotes[o(e).noteId]?s(D):s(L,!1)})}v(i),v(a),U(()=>{w(a,"id","note_"+o(e).noteId),w(a,"data-note-id",o(e).noteId),V(j,o(e).title)}),T("click",a,()=>_(o(e))),n(t,a)}),n(A,h),F()}S(["click"]);export{re as component};
